<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Complexity.NP.SAT.CookLevin</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#"><span class="id" title="library">TCC</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Complexity.Libs.CookPrelim</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#"><span class="id" title="library">MorePrelim</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Undecidability.Shared.Libs.PSL</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Base</span> <span class="id" title="library">FinTypes</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab90"></a><h1 class="section">Adding preludes to P-3-CC instances</h1>
 We introduce preludes for TCC instances (for simplicity, we restrict ourselves to the propositional variant PTCC) 
<div class="paragraph"> </div>

 Preludes allow us to reduce the problem "∃ init, P init ∧ PTCCLang (instance(init))" to "PTCCLang (instance')", where 
  instance is a PTCC instance which lacks an initial string and P is an arbitrary predicate on initial strings. 
  A prelude is a set of covering cards together with a new initial string which generates a new string.

<div class="paragraph"> </div>

  If we can find a set of covering cards and an initial string as well as a number of steps t' such that the initial string
  can go in t' steps to exactly those strings satisfying P, we can do the above reduction by adding the new cards, fixing 
  the initial string and adding t' to the number of steps of instance. 

<div class="paragraph"> </div>

  In order to ensure that the new covering cards and the old ones do not interfere, we require their alphabets to be disjoint
  (but of course, the prelude needs to make steps to strings of the old alphabet; it just is not allowed to make steps *from* 
  strings of the old alphabet). 
  In this formalisation, this constraint is mostly enforced syntactically by taking the new alphabet to be the sum of 
  the prelude alphabet and the old alphabet.
  
<div class="paragraph"> </div>

 Remark: One can also see preludes of providing a limited form of compositionality; for instance, one can also show that preludes allow one to reduce an existential question to another (possibly simpler) existential question (see below).
  
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="defExPTCC" class="idref" href="#defExPTCC"><span class="id" title="section">defExPTCC</span></a>.<br/>
</div>

<div class="doc">
original instance lacking an initial string
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="defExPTCC.Sigma" class="idref" href="#defExPTCC.Sigma"><span class="id" title="variable">Sigma</span></a> : <span class="id" title="record">finType</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="defExPTCC.p" class="idref" href="#defExPTCC.p"><span class="id" title="variable">p</span></a> : <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#defExPTCC.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#defExPTCC.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#defExPTCC.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#defExPTCC.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#defExPTCC.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#defExPTCC.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="defExPTCC.finalCondition" class="idref" href="#defExPTCC.finalCondition"><span class="id" title="variable">finalCondition</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#defExPTCC.Sigma"><span class="id" title="variable">Sigma</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="defExPTCC.t" class="idref" href="#defExPTCC.t"><span class="id" title="variable">t</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>

<br/>
</div>

<div class="doc">
instead of an initial string, we have an initial condition and a length l
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="defExPTCC.initCond" class="idref" href="#defExPTCC.initCond"><span class="id" title="variable">initCond</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#defExPTCC.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="defExPTCC.l" class="idref" href="#defExPTCC.l"><span class="id" title="variable">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>

<br/>
</div>

<div class="doc">
the question now is: does there exist x0 satisfying initCond such that it ends up in a final state? 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="ExPTCC" class="idref" href="#ExPTCC"><span class="id" title="definition">ExPTCC</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="x0:7" class="idref" href="#x0:7"><span class="id" title="binder">x0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="notation">|</span><a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:7"><span class="id" title="variable">x0</span></a><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#defExPTCC.l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#defExPTCC.initCond"><span class="id" title="variable">initCond</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:7"><span class="id" title="variable">x0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#PTCCLang"><span class="id" title="definition">PTCCLang</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#Build_PTCC"><span class="id" title="constructor">Build_PTCC</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:7"><span class="id" title="variable">x0</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#defExPTCC.p"><span class="id" title="variable">p</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#defExPTCC.finalCondition"><span class="id" title="variable">finalCondition</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#defExPTCC.t"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#defExPTCC"><span class="id" title="section">defExPTCC</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="fixPTCCInstance" class="idref" href="#fixPTCCInstance"><span class="id" title="section">fixPTCCInstance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPTCCInstance.Sigma" class="idref" href="#fixPTCCInstance.Sigma"><span class="id" title="variable">Sigma</span></a> : <span class="id" title="keyword">Type</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPTCCInstance.ESigma" class="idref" href="#fixPTCCInstance.ESigma"><span class="id" title="variable">ESigma</span></a> : <span class="id" title="notation">eq_dec</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.Sigma"><span class="id" title="variable">Sigma</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPTCCInstance.FSigma" class="idref" href="#fixPTCCInstance.FSigma"><span class="id" title="variable">FSigma</span></a> : <span class="id" title="class">finTypeC</span> (<span class="id" title="constructor">EqType</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.Sigma"><span class="id" title="variable">Sigma</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPTCCInstance.p" class="idref" href="#fixPTCCInstance.p"><span class="id" title="variable">p</span></a> : <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPTCCInstance.finalCondition" class="idref" href="#fixPTCCInstance.finalCondition"><span class="id" title="variable">finalCondition</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.Sigma"><span class="id" title="variable">Sigma</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPTCCInstance.t" class="idref" href="#fixPTCCInstance.t"><span class="id" title="variable">t</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPTCCInstance.initCond" class="idref" href="#fixPTCCInstance.initCond"><span class="id" title="variable">initCond</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPTCCInstance.l" class="idref" href="#fixPTCCInstance.l"><span class="id" title="variable">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>

<br/>
</div>

<div class="doc">
otherwise, vacuous rewrites destroy everything 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPTCCInstance.A0" class="idref" href="#fixPTCCInstance.A0"><span class="id" title="variable">A0</span></a> : <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> 3).<br/>

<br/>
</div>

<div class="doc">
a prelude generates initial strings satisfying initCond 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPTCCInstance.Sigma'" class="idref" href="#fixPTCCInstance.Sigma'"><span class="id" title="variable">Sigma'</span></a> : <span class="id" title="keyword">Type</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPTCCInstance.eSigma'" class="idref" href="#fixPTCCInstance.eSigma'"><span class="id" title="variable">eSigma'</span></a> : <span class="id" title="notation">eq_dec</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.Sigma'"><span class="id" title="variable">Sigma'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPTCCInstance.FSigma'" class="idref" href="#fixPTCCInstance.FSigma'"><span class="id" title="variable">FSigma'</span></a> : <span class="id" title="class">finTypeC</span> (<span class="id" title="constructor">EqType</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.Sigma'"><span class="id" title="variable">Sigma'</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="combSigma" class="idref" href="#combSigma"><span class="id" title="abbreviation">combSigma</span></a> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#sum"><span class="id" title="inductive">sum</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.Sigma'"><span class="id" title="variable">Sigma'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPTCCInstance.p'" class="idref" href="#fixPTCCInstance.p'"><span class="id" title="variable">p'</span></a> : <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.Sigma'"><span class="id" title="variable">Sigma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.Sigma'"><span class="id" title="variable">Sigma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.Sigma'"><span class="id" title="variable">Sigma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combSigma"><span class="id" title="abbreviation">combSigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combSigma"><span class="id" title="abbreviation">combSigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combSigma"><span class="id" title="abbreviation">combSigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>).<br/>
</div>

<div class="doc">
We prove the following results not for a fixed initial string, but for a string satisfying initialPred.
    This allows us to compose multiple preludes, each reducing to a simpler ExPTCC instance.
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPTCCInstance.initialPred" class="idref" href="#fixPTCCInstance.initialPred"><span class="id" title="variable">initialPred</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.Sigma'"><span class="id" title="variable">Sigma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPTCCInstance.t'" class="idref" href="#fixPTCCInstance.t'"><span class="id" title="variable">t'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="isOrigString" class="idref" href="#isOrigString"><span class="id" title="definition">isOrigString</span></a> (<a id="s:23" class="idref" href="#s:23"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combSigma"><span class="id" title="abbreviation">combSigma</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="s':24" class="idref" href="#s':24"><span class="id" title="binder">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#s:23"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#s':24"><span class="id" title="variable">s'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="isPreludeString" class="idref" href="#isPreludeString"><span class="id" title="definition">isPreludeString</span></a> (<a id="s:25" class="idref" href="#s:25"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combSigma"><span class="id" title="abbreviation">combSigma</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="s':26" class="idref" href="#s':26"><span class="id" title="binder">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#s:25"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#s':26"><span class="id" title="variable">s'</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="liftPrelude" class="idref" href="#liftPrelude"><span class="id" title="inductive">liftPrelude</span></a> : <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#cardPred"><span class="id" title="definition">cardPred</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combSigma"><span class="id" title="abbreviation">combSigma</span></a> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="liftPreludeC" class="idref" href="#liftPreludeC"><span class="id" title="constructor">liftPreludeC</span></a> (<a id="a:29" class="idref" href="#a:29"><span class="id" title="binder">a</span></a> <a id="b:30" class="idref" href="#b:30"><span class="id" title="binder">b</span></a> <a id="c:31" class="idref" href="#c:31"><span class="id" title="binder">c</span></a> : <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.Sigma'"><span class="id" title="variable">Sigma'</span></a>) (<a id="d:32" class="idref" href="#d:32"><span class="id" title="binder">d</span></a> <a id="e:33" class="idref" href="#e:33"><span class="id" title="binder">e</span></a> <a id="f:34" class="idref" href="#f:34"><span class="id" title="binder">f</span></a> : <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combSigma"><span class="id" title="abbreviation">combSigma</span></a>) : <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.p'"><span class="id" title="variable">p'</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#a:29"><span class="id" title="variable">a</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#b:30"><span class="id" title="variable">b</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#c:31"><span class="id" title="variable">c</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#d:32"><span class="id" title="variable">d</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#e:33"><span class="id" title="variable">e</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#f:34"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude:27"><span class="id" title="inductive">liftPrelude</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#a:29"><span class="id" title="variable">a</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#b:30"><span class="id" title="variable">b</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#c:31"><span class="id" title="variable">c</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#d:32"><span class="id" title="variable">d</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#e:33"><span class="id" title="variable">e</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#f:34"><span class="id" title="variable">f</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="liftOrig" class="idref" href="#liftOrig"><span class="id" title="inductive">liftOrig</span></a> : <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#cardPred"><span class="id" title="definition">cardPred</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combSigma"><span class="id" title="abbreviation">combSigma</span></a> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="liftOrigC" class="idref" href="#liftOrigC"><span class="id" title="constructor">liftOrigC</span></a> (<a id="a:37" class="idref" href="#a:37"><span class="id" title="binder">a</span></a> <a id="b:38" class="idref" href="#b:38"><span class="id" title="binder">b</span></a> <a id="c:39" class="idref" href="#c:39"><span class="id" title="binder">c</span></a> <a id="d:40" class="idref" href="#d:40"><span class="id" title="binder">d</span></a> <a id="e:41" class="idref" href="#e:41"><span class="id" title="binder">e</span></a> <a id="f:42" class="idref" href="#f:42"><span class="id" title="binder">f</span></a> : <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.Sigma"><span class="id" title="variable">Sigma</span></a>) : <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.p"><span class="id" title="variable">p</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#a:37"><span class="id" title="variable">a</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#b:38"><span class="id" title="variable">b</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#c:39"><span class="id" title="variable">c</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#d:40"><span class="id" title="variable">d</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#e:41"><span class="id" title="variable">e</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#f:42"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftOrig:35"><span class="id" title="inductive">liftOrig</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#a:37"><span class="id" title="variable">a</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#b:38"><span class="id" title="variable">b</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#c:39"><span class="id" title="variable">c</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#d:40"><span class="id" title="variable">d</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#e:41"><span class="id" title="variable">e</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#f:42"><span class="id" title="variable">f</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="inductive">liftPrelude</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftOrig"><span class="id" title="inductive">liftOrig</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="combP" class="idref" href="#combP"><span class="id" title="definition">combP</span></a> <a id="a:43" class="idref" href="#a:43"><span class="id" title="binder">a</span></a> <a id="b:44" class="idref" href="#b:44"><span class="id" title="binder">b</span></a> <a id="c:45" class="idref" href="#c:45"><span class="id" title="binder">c</span></a> <a id="d:46" class="idref" href="#d:46"><span class="id" title="binder">d</span></a> <a id="e:47" class="idref" href="#e:47"><span class="id" title="binder">e</span></a> <a id="f:48" class="idref" href="#f:48"><span class="id" title="binder">f</span></a> := <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="inductive">liftPrelude</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#a:43"><span class="id" title="variable">a</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#b:44"><span class="id" title="variable">b</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#c:45"><span class="id" title="variable">c</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#d:46"><span class="id" title="variable">d</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#e:47"><span class="id" title="variable">e</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#f:48"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftOrig"><span class="id" title="inductive">liftOrig</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#a:43"><span class="id" title="variable">a</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#b:44"><span class="id" title="variable">b</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#c:45"><span class="id" title="variable">c</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#d:46"><span class="id" title="variable">d</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#e:47"><span class="id" title="variable">e</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#f:48"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combP"><span class="id" title="definition">combP</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="validPreludeInitial" class="idref" href="#validPreludeInitial"><span class="id" title="definition">validPreludeInitial</span></a> <a id="s:49" class="idref" href="#s:49"><span class="id" title="binder">s</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#s:49"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.initialPred"><span class="id" title="variable">initialPred</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#s:49"><span class="id" title="variable">s</span></a>.<br/>

<br/>
</div>

<div class="doc">
The prelude rules always produce a string that is a valid initial string for the original instance, up to the injection inl 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPTCCInstance.A1" class="idref" href="#fixPTCCInstance.A1"><span class="id" title="variable">A1</span></a>: <span class="id" title="keyword">forall</span> <a id="init:50" class="idref" href="#init:50"><span class="id" title="binder">init</span></a> <a id="x0:51" class="idref" href="#x0:51"><span class="id" title="binder">x0</span></a>, <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#validPreludeInitial"><span class="id" title="definition">validPreludeInitial</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#init:50"><span class="id" title="variable">init</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="inductive">liftPrelude</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.t'"><span class="id" title="variable">t'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#init:50"><span class="id" title="variable">init</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:51"><span class="id" title="variable">x0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#isOrigString"><span class="id" title="definition">isOrigString</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:51"><span class="id" title="variable">x0</span></a>).<br/>

<br/>
</div>

<div class="doc">
Disjointness: string is not produced too early 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPTCCInstance.A2" class="idref" href="#fixPTCCInstance.A2"><span class="id" title="variable">A2</span></a> : <span class="id" title="keyword">forall</span> <a id="init:53" class="idref" href="#init:53"><span class="id" title="binder">init</span></a> <a id="k:54" class="idref" href="#k:54"><span class="id" title="binder">k</span></a> <a id="x:55" class="idref" href="#x:55"><span class="id" title="binder">x</span></a>, <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#validPreludeInitial"><span class="id" title="definition">validPreludeInitial</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#init:53"><span class="id" title="variable">init</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#k:54"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="inductive">liftPrelude</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#k:54"><span class="id" title="variable">k</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#init:53"><span class="id" title="variable">init</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x:55"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#isPreludeString"><span class="id" title="definition">isPreludeString</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x:55"><span class="id" title="variable">x</span></a>).<br/>

<br/>
</div>

<div class="doc">
Completeness 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPTCCInstance.A3" class="idref" href="#fixPTCCInstance.A3"><span class="id" title="variable">A3</span></a> : <span class="id" title="keyword">forall</span> <a id="x0:57" class="idref" href="#x0:57"><span class="id" title="binder">x0</span></a>, <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.initCond"><span class="id" title="variable">initCond</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:57"><span class="id" title="variable">x0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="notation">|</span><a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:57"><span class="id" title="variable">x0</span></a><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="init:58" class="idref" href="#init:58"><span class="id" title="binder">init</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#validPreludeInitial"><span class="id" title="definition">validPreludeInitial</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#init:58"><span class="id" title="variable">init</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="inductive">liftPrelude</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.t'"><span class="id" title="variable">t'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#init:58"><span class="id" title="variable">init</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:57"><span class="id" title="variable">x0</span></a>)).<br/>

<br/>
</div>

<div class="doc">
Soundness 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPTCCInstance.A4" class="idref" href="#fixPTCCInstance.A4"><span class="id" title="variable">A4</span></a> : <span class="id" title="keyword">forall</span> <a id="init:60" class="idref" href="#init:60"><span class="id" title="binder">init</span></a> <a id="x0:61" class="idref" href="#x0:61"><span class="id" title="binder">x0</span></a>, <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#validPreludeInitial"><span class="id" title="definition">validPreludeInitial</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#init:60"><span class="id" title="variable">init</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="inductive">liftPrelude</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.t'"><span class="id" title="variable">t'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#init:60"><span class="id" title="variable">init</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:61"><span class="id" title="variable">x0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="x0':62" class="idref" href="#x0':62"><span class="id" title="binder">x0'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:61"><span class="id" title="variable">x0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0':62"><span class="id" title="variable">x0'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.initCond"><span class="id" title="variable">initCond</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0':62"><span class="id" title="variable">x0'</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="liftPrelude_subs_combP" class="idref" href="#liftPrelude_subs_combP"><span class="id" title="lemma">liftPrelude_subs_combP</span></a> : <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#cardPred_subs"><span class="id" title="definition">cardPred_subs</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="inductive">liftPrelude</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combP"><span class="id" title="definition">combP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#cardPred_subs"><span class="id" title="definition">cardPred_subs</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#valid"><span class="id" title="inductive">valid</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_eqn_map</span> := <span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> ?<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">s</span> |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="var">is_var</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; [<span class="id" title="tactic">congruence</span> | <span class="id" title="var">inv</span> <span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">s</span> |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="var">is_var</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; [ <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>| <span class="id" title="tactic">congruence</span>]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="fixPTCCInstance.fixInitial" class="idref" href="#fixPTCCInstance.fixInitial"><span class="id" title="section">fixInitial</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPTCCInstance.fixInitial.initialString" class="idref" href="#fixPTCCInstance.fixInitial.initialString"><span class="id" title="variable">initialString</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.Sigma'"><span class="id" title="variable">Sigma'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Hinitial:65" class="idref" href="#Hinitial:65"><span class="id" title="binder">Hinitial</span></a> : <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#validPreludeInitial"><span class="id" title="definition">validPreludeInitial</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.fixInitial.initialString"><span class="id" title="variable">initialString</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="relpower_inr_liftPrelude'" class="idref" href="#relpower_inr_liftPrelude'"><span class="id" title="lemma">relpower_inr_liftPrelude'</span></a> <a id="n:66" class="idref" href="#n:66"><span class="id" title="binder">n</span></a> <a id="b:67" class="idref" href="#b:67"><span class="id" title="binder">b</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#n:66"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.t'"><span class="id" title="variable">t'</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combP"><span class="id" title="definition">combP</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#n:66"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.fixInitial.initialString"><span class="id" title="variable">initialString</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#b:67"><span class="id" title="variable">b</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="inductive">liftPrelude</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#n:66"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.fixInitial.initialString"><span class="id" title="variable">initialString</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#b:67"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#isPreludeString"><span class="id" title="definition">isPreludeString</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#b:67"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H0</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">A0</span> <span class="id" title="var">A1</span> <span class="id" title="var">A3</span> <span class="id" title="var">A4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.fixInitial.initialString"><span class="id" title="variable">initialString</span></a>).<br/>
</div>

<div class="doc">
we use the version of relpower defined by adding transitions at the tail of a chain since we need to keep A2, which requires the initialString at the head (otherwise, we could not apply the IH) 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower_relpowerRev"><span class="id" title="lemma">relpower_relpowerRev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower_relpowerRev"><span class="id" title="lemma">relpower_relpowerRev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [ ? | ? ? ? ? <span class="id" title="var">H</span> <span class="id" title="var">IH</span> <span class="id" title="var">H1</span>]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">IH'</span> &amp; (? &amp; -&gt;)); <span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="inductive">liftPrelude</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">x</span>) <span class="id" title="var">y'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">IH'</span> <span class="id" title="var">H</span>. <span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">x'</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">H</span>. <span class="id" title="var">revert</span> <span class="id" title="var">x</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [ | ? ? ? ? <span class="id" title="var">H</span> <span class="id" title="var">IH</span> <span class="id" title="var">H2</span> | ? ? ? ? <span class="id" title="var">H</span> <span class="id" title="var">IH</span> <span class="id" title="var">H2</span>]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">inv_eqn_map</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span> 2; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span> 3; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>. <span class="id" title="var">inv_eqn_map</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H3</span>;  [<span class="id" title="tactic">eauto</span> |  ]. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpowerRevS"><span class="id" title="constructor">relpowerRevS</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">y</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">x</span>); [ <span class="id" title="tactic">apply</span> <span class="id" title="var">IH'</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="inductive">liftPrelude</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.fixInitial.initialString"><span class="id" title="variable">initialString</span></a>) <span class="id" title="var">y'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower_relpowerRev"><span class="id" title="lemma">relpower_relpowerRev</span></a>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.A2"><span class="id" title="variable">A2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="relpower_inr_liftPrelude" class="idref" href="#relpower_inr_liftPrelude"><span class="id" title="lemma">relpower_inr_liftPrelude</span></a> <a id="n:68" class="idref" href="#n:68"><span class="id" title="binder">n</span></a> <a id="b:69" class="idref" href="#b:69"><span class="id" title="binder">b</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#n:68"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.t'"><span class="id" title="variable">t'</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combP"><span class="id" title="definition">combP</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#n:68"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.fixInitial.initialString"><span class="id" title="variable">initialString</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#b:69"><span class="id" title="variable">b</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="inductive">liftPrelude</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#n:68"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.fixInitial.initialString"><span class="id" title="variable">initialString</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#b:69"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">A0</span> <span class="id" title="var">A1</span> <span class="id" title="var">A3</span> <span class="id" title="var">A4</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Arith.Compare_dec.html#lt_dec"><span class="id" title="lemma">lt_dec</span></a> <span class="id" title="var">n</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.t'"><span class="id" title="variable">t'</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">l0</span> | <span class="id" title="var">l0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#relpower_inr_liftPrelude'"><span class="id" title="lemma">relpower_inr_liftPrelude'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; [ | <span class="id" title="tactic">apply</span> <span class="id" title="var">l0</span>]. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.t'"><span class="id" title="variable">t'</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">l0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.t'"><span class="id" title="variable">t'</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower_relpowerRev"><span class="id" title="lemma">relpower_relpowerRev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower_relpowerRev"><span class="id" title="lemma">relpower_relpowerRev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#relpower_inr_liftPrelude'"><span class="id" title="lemma">relpower_inr_liftPrelude'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">H3</span> &amp; (? &amp; -&gt;)); <span class="id" title="tactic">subst</span>; [ | <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower_relpowerRev"><span class="id" title="lemma">relpower_relpowerRev</span></a>. <span class="id" title="tactic">econstructor</span>; [ <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower_relpowerRev"><span class="id" title="lemma">relpower_relpowerRev</span></a>, <span class="id" title="var">H3</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span> <span class="id" title="var">H0</span> <span class="id" title="var">A2</span>. <span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">x0</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">x1</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqn</span>. <span class="id" title="var">revert</span> <span class="id" title="var">x0</span> <span class="id" title="var">Heqn</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">inv_eqn_map</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">inv_eqn_map</span>; <span class="id" title="tactic">constructor</span> 3; [<span class="id" title="tactic">eauto</span> | ]. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv_eqn_map</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>; [ <span class="id" title="tactic">eauto</span> | ]. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="relpower_inl_liftOrig" class="idref" href="#relpower_inl_liftOrig"><span class="id" title="lemma">relpower_inl_liftOrig</span></a> <a id="n:70" class="idref" href="#n:70"><span class="id" title="binder">n</span></a> <a id="s:71" class="idref" href="#s:71"><span class="id" title="binder">s</span></a> <a id="b:72" class="idref" href="#b:72"><span class="id" title="binder">b</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">|</span><a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#s:71"><span class="id" title="variable">s</span></a><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> 3  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combP"><span class="id" title="definition">combP</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#n:70"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#s:71"><span class="id" title="variable">s</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#b:72"><span class="id" title="variable">b</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftOrig"><span class="id" title="inductive">liftOrig</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#n:70"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#s:71"><span class="id" title="variable">s</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#b:72"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#isOrigString"><span class="id" title="definition">isOrigString</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#b:72"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">A0</span> <span class="id" title="var">A1</span> <span class="id" title="var">A2</span> <span class="id" title="var">A3</span> <span class="id" title="var">A4</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H0</span> <span class="id" title="var">H</span>. <span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">s'</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftOrig"><span class="id" title="inductive">liftOrig</span></a>)) <span class="id" title="var">n</span> <span class="id" title="var">s'</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#isOrigString"><span class="id" title="definition">isOrigString</span></a> <span class="id" title="var">b</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">s</span> <span class="id" title="var">H0</span> <span class="id" title="var">Heqn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? | ? ? ? ? <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">H1</span> <span class="id" title="var">Heqn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#isOrigString"><span class="id" title="definition">isOrigString</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftOrig"><span class="id" title="inductive">liftOrig</span></a>) <span class="id" title="var">a</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#isOrigString"><span class="id" title="definition">isOrigString</span></a> <span class="id" title="var">b</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">H2</span> &amp; (? &amp; -&gt;)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span> <span class="id" title="var">H0</span>. <span class="id" title="var">revert</span> <span class="id" title="var">s</span> <span class="id" title="var">H1</span> <span class="id" title="var">Heqn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#isOrigString"><span class="id" title="definition">isOrigString</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [ | ? ? ? ? <span class="id" title="var">H</span> <span class="id" title="var">IH</span> <span class="id" title="var">H0</span> | ? ? ? ? <span class="id" title="var">H</span> <span class="id" title="var">IH</span> <span class="id" title="var">H0</span>]; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv_eqn_map</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv_eqn_map</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv_eqn_map</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H3</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s4</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid_length_inv"><span class="id" title="lemma">valid_length_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">s2</span>; [ | <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">constructor</span> 3. <span class="id" title="tactic">constructor</span> 2; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">edestruct</span> (<span class="id" title="var">IH</span> (<span class="id" title="var">s0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">s3</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">s1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">s4</span>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">H2</span> &amp; (? &amp; <span class="id" title="var">H3</span>)); [<span class="id" title="var">now</span> <span class="id" title="var">cbn</span> | <span class="id" title="var">now</span> <span class="id" title="var">cbn</span> | <span class="id" title="var">inv_eqn_map</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eauto</span> | ]. <span class="id" title="tactic">exists</span> (<span class="id" title="var">d</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">s5</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">s6</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">x</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<span class="id" title="var">IH</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">IH1</span> &amp; <span class="id" title="var">IH2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid_length_inv"><span class="id" title="lemma">valid_length_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; [ | <span class="id" title="tactic">apply</span> <span class="id" title="var">IH2</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpowerS"><span class="id" title="constructor">relpowerS</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">b</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">x</span>); [ <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span> |<span class="id" title="tactic">apply</span> <span class="id" title="var">IH1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
important intermediate result for the proof: we can split a sequence of t' + t rewrite steps into t' rewrite steps of the prelude and t rewrite steps of the original CC instance 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="relpower_comb_split" class="idref" href="#relpower_comb_split"><span class="id" title="lemma">relpower_comb_split</span></a> <a id="sf:73" class="idref" href="#sf:73"><span class="id" title="binder">sf</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combP"><span class="id" title="definition">combP</span></a>)) (<a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.t"><span class="id" title="variable">t</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.fixInitial.initialString"><span class="id" title="variable">initialString</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#sf:73"><span class="id" title="variable">sf</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="x0:74" class="idref" href="#x0:74"><span class="id" title="binder">x0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="inductive">liftPrelude</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.t'"><span class="id" title="variable">t'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.fixInitial.initialString"><span class="id" title="variable">initialString</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:74"><span class="id" title="variable">x0</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftOrig"><span class="id" title="inductive">liftOrig</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.t"><span class="id" title="variable">t</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:74"><span class="id" title="variable">x0</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#sf:73"><span class="id" title="variable">sf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#isOrigString"><span class="id" title="definition">isOrigString</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#sf:73"><span class="id" title="variable">sf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">A3</span> <span class="id" title="var">A4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">z</span> &amp; <span class="id" title="var">H1</span> &amp; <span class="id" title="var">H2</span>)%<a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower_add_split"><span class="id" title="lemma">relpower_add_split</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">z</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#relpower_inr_liftPrelude"><span class="id" title="lemma">relpower_inr_liftPrelude</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; [ | <span class="id" title="tactic">auto</span>]. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.A1"><span class="id" title="variable">A1</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.fixInitial.Hinitial"><span class="id" title="variable">Hinitial</span></a> <span class="id" title="var">H1</span>) <span class="id" title="keyword">as</span> (? &amp; -&gt;). <span class="id" title="tactic">eapply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#relpower_inl_liftOrig"><span class="id" title="lemma">relpower_inl_liftOrig</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span> <span class="id" title="var">A2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#relpower_valid_length_inv"><span class="id" title="lemma">relpower_valid_length_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">H1</span>, (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.fixInitial.Hinitial"><span class="id" title="variable">Hinitial</span></a>). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.fixInitial"><span class="id" title="section">fixInitial</span></a>.<br/>

<br/>
</div>

<div class="doc">
we need to be able to go back from liftOrig to p
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="valid_liftOrig_isOrigString" class="idref" href="#valid_liftOrig_isOrigString"><span class="id" title="lemma">valid_liftOrig_isOrigString</span></a> <a id="a:75" class="idref" href="#a:75"><span class="id" title="binder">a</span></a> <a id="b:76" class="idref" href="#b:76"><span class="id" title="binder">b</span></a> : <span class="id" title="notation">|</span><a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#a:75"><span class="id" title="variable">a</span></a><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> 3 <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftOrig"><span class="id" title="inductive">liftOrig</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#a:75"><span class="id" title="variable">a</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#b:76"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#isOrigString"><span class="id" title="definition">isOrigString</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#b:76"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">A1</span> <span class="id" title="var">A2</span> <span class="id" title="var">A3</span> <span class="id" title="var">A4</span> <span class="id" title="var">A0</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">as</span> [ | ? ? ? ? <span class="id" title="var">H0</span> <span class="id" title="var">IH</span> <span class="id" title="var">H1</span> | ? ? ? ? <span class="id" title="var">H0</span> <span class="id" title="var">IH</span> <span class="id" title="var">H1</span>]; <span class="id" title="tactic">unfold</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#isOrigString"><span class="id" title="definition">isOrigString</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">s1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid_length_inv"><span class="id" title="lemma">valid_length_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">s2</span>; [ | <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">edestruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> (? &amp; -&gt;); [ <span class="id" title="var">lia</span>| ]. <span class="id" title="var">inv</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">d</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">x0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="liftOrig_valid_p" class="idref" href="#liftOrig_valid_p"><span class="id" title="lemma">liftOrig_valid_p</span></a> <a id="x:77" class="idref" href="#x:77"><span class="id" title="binder">x</span></a> <a id="x':78" class="idref" href="#x':78"><span class="id" title="binder">x'</span></a>: <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftOrig"><span class="id" title="inductive">liftOrig</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x:77"><span class="id" title="variable">x</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x':78"><span class="id" title="variable">x'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.p"><span class="id" title="variable">p</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x:77"><span class="id" title="variable">x</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x':78"><span class="id" title="variable">x'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">A1</span> <span class="id" title="var">A2</span> <span class="id" title="var">A3</span> <span class="id" title="var">A4</span> <span class="id" title="var">A0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">x0</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">eqnx0</span>. <span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">x'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">x0'</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">eqnx0'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">as</span> [ | ? ? ? ? <span class="id" title="var">H</span> <span class="id" title="var">IH</span> <span class="id" title="var">H0</span> | ? ? ? ? <span class="id" title="var">H</span> <span class="id" title="var">IH</span> <span class="id" title="var">H0</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">x</span>, <span class="id" title="var">x'</span>, <span class="id" title="var">eqnx0</span>, <span class="id" title="var">eqnx0'</span> |- *; <span class="id" title="var">inv_eqn_map</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; [ | <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>]. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span> 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">inv_eqn_map</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">inv_eqn_map</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="liftOrig_relpower_p" class="idref" href="#liftOrig_relpower_p"><span class="id" title="lemma">liftOrig_relpower_p</span></a> <a id="n:79" class="idref" href="#n:79"><span class="id" title="binder">n</span></a> <a id="x:80" class="idref" href="#x:80"><span class="id" title="binder">x</span></a> <a id="sf:81" class="idref" href="#sf:81"><span class="id" title="binder">sf</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">|</span><a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x:80"><span class="id" title="variable">x</span></a><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> 3<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftOrig"><span class="id" title="inductive">liftOrig</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#n:79"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x:80"><span class="id" title="variable">x</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#sf:81"><span class="id" title="variable">sf</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.p"><span class="id" title="variable">p</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#n:79"><span class="id" title="variable">n</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x:80"><span class="id" title="variable">x</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#sf:81"><span class="id" title="variable">sf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">A1</span> <span class="id" title="var">A2</span> <span class="id" title="var">A3</span> <span class="id" title="var">A4</span> <span class="id" title="var">A0</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H0</span> <span class="id" title="var">H</span>. <span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">x'</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hx'</span>. <span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">sf</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">sf'</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hsf'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x</span> <span class="id" title="var">sf</span> <span class="id" title="var">H0</span> <span class="id" title="var">Hx'</span> <span class="id" title="var">Hsf'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [ | ? ? ? ? <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_injective</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsf'</span>; [ <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>| <span class="id" title="tactic">unfold</span> <span class="id" title="definition">injective</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="notation">|</span><span class="id" title="var">a</span><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> 3) <span class="id" title="keyword">as</span> <span class="id" title="var">H2</span>. { <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. } <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#valid_liftOrig_isOrigString"><span class="id" title="lemma">valid_liftOrig_isOrigString</span></a> <span class="id" title="var">H2</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> (? &amp; -&gt;). <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftOrig_valid_p"><span class="id" title="lemma">liftOrig_valid_p</span></a>, <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>; [ | <span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid_length_inv"><span class="id" title="lemma">valid_length_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="relpower_valid_map_inl" class="idref" href="#relpower_valid_map_inl"><span class="id" title="lemma">relpower_valid_map_inl</span></a> <a id="x0:82" class="idref" href="#x0:82"><span class="id" title="binder">x0</span></a> <a id="xt:83" class="idref" href="#xt:83"><span class="id" title="binder">xt</span></a> <a id="m:84" class="idref" href="#m:84"><span class="id" title="binder">m</span></a>: <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.p"><span class="id" title="variable">p</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#m:84"><span class="id" title="variable">m</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:82"><span class="id" title="variable">x0</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#xt:83"><span class="id" title="variable">xt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combP"><span class="id" title="definition">combP</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#m:84"><span class="id" title="variable">m</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:82"><span class="id" title="variable">x0</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#xt:83"><span class="id" title="variable">xt</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [ | ? ? ? ? <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>. 2: <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [ | ? ? ? ? <span class="id" title="var">H</span> <span class="id" title="var">IH</span> <span class="id" title="var">H0</span> | ? ? ? ? <span class="id" title="var">H</span> <span class="id" title="var">IH</span> <span class="id" title="var">H0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>; [ <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> | <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span> 3; [<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> | ]. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lift_final" class="idref" href="#lift_final"><span class="id" title="lemma">lift_final</span></a> <a id="sf:85" class="idref" href="#sf:85"><span class="id" title="binder">sf</span></a> : <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#satFinal"><span class="id" title="definition">satFinal</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.finalCondition"><span class="id" title="variable">finalCondition</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#sf:85"><span class="id" title="variable">sf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#satFinal"><span class="id" title="definition">satFinal</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.finalCondition"><span class="id" title="variable">finalCondition</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combSigma"><span class="id" title="abbreviation">combSigma</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#sf:85"><span class="id" title="variable">sf</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#satFinal"><span class="id" title="definition">satFinal</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">subs</span> &amp; <span class="id" title="var">H1</span> &amp; <span class="id" title="var">H2</span>). <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">subs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#substring"><span class="id" title="definition">substring</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">b1</span> &amp; <span class="id" title="var">b2</span> &amp; <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">b1</span>), (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">b2</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>, !<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#satFinal"><span class="id" title="definition">satFinal</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">subs</span> &amp; <span class="id" title="var">H1</span> &amp; <span class="id" title="var">H2</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">subs'</span> &amp; &lt;- &amp; <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">subs'</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#substring"><span class="id" title="definition">substring</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">b1</span> &amp; <span class="id" title="var">b2</span> &amp; <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_eq_app</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">b1'</span> &amp; <span class="id" title="var">b</span> &amp; <span class="id" title="var">H</span> &amp; -&gt; &amp; <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_eq_app</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">b'</span> &amp; <span class="id" title="var">b2'</span> &amp; -&gt; &amp; <span class="id" title="var">H2</span> &amp; -&gt;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">b1'</span>, <span class="id" title="var">b2'</span>. <span class="id" title="var">enough</span> (<span class="id" title="var">subs'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">b'</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_injective</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span> | <span class="id" title="tactic">unfold</span> <span class="id" title="definition">injective</span>; <span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Reduction to ExPTCC  This result enables one to reduce an ExPTCC instance to another (potentially simpler) ExPTCC instance 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="red_to_exptpr" class="idref" href="#red_to_exptpr"><span class="id" title="lemma">red_to_exptpr</span></a> : <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#ExPTCC"><span class="id" title="definition">ExPTCC</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.p"><span class="id" title="variable">p</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.finalCondition"><span class="id" title="variable">finalCondition</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.t"><span class="id" title="variable">t</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.initCond"><span class="id" title="variable">initCond</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#ExPTCC"><span class="id" title="definition">ExPTCC</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combP"><span class="id" title="definition">combP</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.finalCondition"><span class="id" title="variable">finalCondition</span></a>) (<a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.t"><span class="id" title="variable">t</span></a>) (<span class="id" title="keyword">fun</span> <a id="s:86" class="idref" href="#s:86"><span class="id" title="binder">s</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="s':87" class="idref" href="#s':87"><span class="id" title="binder">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#s:86"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#s':87"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.initialPred"><span class="id" title="variable">initialPred</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#s':87"><span class="id" title="variable">s'</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.l"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x0</span> &amp; <span class="id" title="var">H1</span> &amp; <span class="id" title="var">H2</span> &amp; <span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.A3"><span class="id" title="variable">A3</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">H2</span> <span class="id" title="var">H1</span>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">init</span> &amp; <span class="id" title="var">F1</span> &amp; <span class="id" title="var">F2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">init</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">F1</span> | <span class="id" title="tactic">split</span>; [ <span class="id" title="tactic">exists</span> <span class="id" title="var">init</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">easy</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">F1</span>] | ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">G1</span> &amp; (<span class="id" title="var">sf</span> &amp; <span class="id" title="var">G2</span> &amp; <span class="id" title="var">G3</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="tactic">unfold</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#PTCC_wellformed"><span class="id" title="definition">PTCC_wellformed</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#validPreludeInitial"><span class="id" title="definition">validPreludeInitial</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">F1</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">sf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower_trans"><span class="id" title="lemma">relpower_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower_monotonous"><span class="id" title="lemma">relpower_monotonous</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid_monotonous"><span class="id" title="lemma">valid_monotonous</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd_monotonous"><span class="id" title="lemma">coversHeadInd_monotonous</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude_subs_combP"><span class="id" title="lemma">liftPrelude_subs_combP</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">F2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">G2</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#relpower_valid_map_inl"><span class="id" title="lemma">relpower_valid_map_inl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#lift_final"><span class="id" title="lemma">lift_final</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x0</span> &amp; <span class="id" title="var">H1</span> &amp; <span class="id" title="var">H2</span> &amp; <span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">initialString</span> &amp; -&gt; &amp; <span class="id" title="var">H2</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">H3</span> &amp; <span class="id" title="var">sf</span> &amp; <span class="id" title="var">Hv</span> &amp; <span class="id" title="var">Hf</span>). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#validPreludeInitial"><span class="id" title="definition">validPreludeInitial</span></a> <span class="id" title="var">initialString</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hi</span> <span class="id" title="tactic">by</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#relpower_comb_split"><span class="id" title="lemma">relpower_comb_split</span></a> <span class="id" title="var">initialString</span> <span class="id" title="var">Hi</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x0</span> &amp; <span class="id" title="var">H4</span> &amp; <span class="id" title="var">H5</span> &amp; <span class="id" title="var">H6</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.A1"><span class="id" title="variable">A1</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">H4</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">x0'</span> &amp; -&gt;). <span class="id" title="tactic">exists</span> <span class="id" title="var">x0'</span>. <span class="id" title="tactic">split</span>; [ | <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#relpower_valid_length_inv"><span class="id" title="lemma">relpower_valid_length_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance.A4"><span class="id" title="variable">A4</span></a> <span class="id" title="var">Hi</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span> <span class="id" title="keyword">as</span> (? &amp; <span class="id" title="var">H4'</span> &amp; <span class="id" title="var">H4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_injective</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4'</span>; [<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H4</span> | <span class="id" title="tactic">unfold</span> <span class="id" title="definition">injective</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">congruence</span>  ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#PTCCLang"><span class="id" title="definition">PTCCLang</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: { <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#PTCC_wellformed"><span class="id" title="definition">PTCC_wellformed</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#relpower_valid_length_inv"><span class="id" title="lemma">relpower_valid_length_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sf'</span> &amp; -&gt;). <span class="id" title="tactic">exists</span> <span class="id" title="var">sf'</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftOrig_relpower_p"><span class="id" title="lemma">liftOrig_relpower_p</span></a>, <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#relpower_valid_length_inv"><span class="id" title="lemma">relpower_valid_length_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#lift_final"><span class="id" title="lemma">lift_final</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPTCCInstance"><span class="id" title="section">fixPTCCInstance</span></a>.<br/>

<br/>
</div>

<div class="doc">
We now specialise to the case where the initial condition on the prelude string is fixed to equality with a given string, 
  i.e. we reduce an ExPTCC instance to a full PTCC instance

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="fixPrelude" class="idref" href="#fixPrelude"><span class="id" title="section">fixPrelude</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPrelude.Sigma" class="idref" href="#fixPrelude.Sigma"><span class="id" title="variable">Sigma</span></a> : <span class="id" title="keyword">Type</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPrelude.ESigma" class="idref" href="#fixPrelude.ESigma"><span class="id" title="variable">ESigma</span></a> : <span class="id" title="notation">eq_dec</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.Sigma"><span class="id" title="variable">Sigma</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPrelude.FSigma" class="idref" href="#fixPrelude.FSigma"><span class="id" title="variable">FSigma</span></a> : <span class="id" title="class">finTypeC</span> (<span class="id" title="constructor">EqType</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.Sigma"><span class="id" title="variable">Sigma</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPrelude.p" class="idref" href="#fixPrelude.p"><span class="id" title="variable">p</span></a> : <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPrelude.finalCondition" class="idref" href="#fixPrelude.finalCondition"><span class="id" title="variable">finalCondition</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.Sigma"><span class="id" title="variable">Sigma</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPrelude.t" class="idref" href="#fixPrelude.t"><span class="id" title="variable">t</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPrelude.initCond" class="idref" href="#fixPrelude.initCond"><span class="id" title="variable">initCond</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPrelude.l" class="idref" href="#fixPrelude.l"><span class="id" title="variable">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>

<br/>
</div>

<div class="doc">
Otherwise, vacuous rewrites destroy everything 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPrelude.A0" class="idref" href="#fixPrelude.A0"><span class="id" title="variable">A0</span></a> : <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> 3).<br/>

<br/>
</div>

<div class="doc">
A prelude generates initial strings satisfying initCond 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPrelude.Sigma'" class="idref" href="#fixPrelude.Sigma'"><span class="id" title="variable">Sigma'</span></a> : <span class="id" title="keyword">Type</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPrelude.eSigma'" class="idref" href="#fixPrelude.eSigma'"><span class="id" title="variable">eSigma'</span></a> : <span class="id" title="notation">eq_dec</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.Sigma'"><span class="id" title="variable">Sigma'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPrelude.FSigma'" class="idref" href="#fixPrelude.FSigma'"><span class="id" title="variable">FSigma'</span></a> : <span class="id" title="class">finTypeC</span> (<span class="id" title="constructor">EqType</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.Sigma'"><span class="id" title="variable">Sigma'</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="combSigma" class="idref" href="#combSigma"><span class="id" title="abbreviation">combSigma</span></a> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#sum"><span class="id" title="inductive">sum</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.Sigma'"><span class="id" title="variable">Sigma'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPrelude.p'" class="idref" href="#fixPrelude.p'"><span class="id" title="variable">p'</span></a> : <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.Sigma'"><span class="id" title="variable">Sigma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.Sigma'"><span class="id" title="variable">Sigma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.Sigma'"><span class="id" title="variable">Sigma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combSigma"><span class="id" title="abbreviation">combSigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combSigma"><span class="id" title="abbreviation">combSigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combSigma"><span class="id" title="abbreviation">combSigma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>).<br/>

<br/>
</div>

<div class="doc">
We specialise to a fixed initial string 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPrelude.initialString" class="idref" href="#fixPrelude.initialString"><span class="id" title="variable">initialString</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.Sigma'"><span class="id" title="variable">Sigma'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPrelude.t'" class="idref" href="#fixPrelude.t'"><span class="id" title="variable">t'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="inductive">liftPrelude</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftOrig"><span class="id" title="inductive">liftOrig</span></a> : <span class="id" title="var">core</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combP"><span class="id" title="definition">combP</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="liftPrelude" class="idref" href="#liftPrelude"><span class="id" title="abbreviation">liftPrelude</span></a> := (<a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="inductive">liftPrelude</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.p'"><span class="id" title="variable">p'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="combP" class="idref" href="#combP"><span class="id" title="abbreviation">combP</span></a> := (<a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combP"><span class="id" title="definition">combP</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.p"><span class="id" title="variable">p</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.p'"><span class="id" title="variable">p'</span></a>).<br/>

<br/>
</div>

<div class="doc">
The prelude rules always produce a string that is a valid initial string for the original instance, up to the injection inl 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPrelude.A1" class="idref" href="#fixPrelude.A1"><span class="id" title="variable">A1</span></a>: <span class="id" title="keyword">forall</span> <a id="x0:103" class="idref" href="#x0:103"><span class="id" title="binder">x0</span></a>, <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="abbreviation">liftPrelude</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.t'"><span class="id" title="variable">t'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.initialString"><span class="id" title="variable">initialString</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:103"><span class="id" title="variable">x0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#isOrigString"><span class="id" title="definition">isOrigString</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:103"><span class="id" title="variable">x0</span></a>).<br/>

<br/>
</div>

<div class="doc">
disjointness: string is not produced too early 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPrelude.A2" class="idref" href="#fixPrelude.A2"><span class="id" title="variable">A2</span></a> : <span class="id" title="keyword">forall</span> <a id="k:105" class="idref" href="#k:105"><span class="id" title="binder">k</span></a> <a id="x:106" class="idref" href="#x:106"><span class="id" title="binder">x</span></a>, <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#k:105"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="abbreviation">liftPrelude</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#k:105"><span class="id" title="variable">k</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.initialString"><span class="id" title="variable">initialString</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x:106"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#isPreludeString"><span class="id" title="definition">isPreludeString</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x:106"><span class="id" title="variable">x</span></a>).<br/>

<br/>
</div>

<div class="doc">
completeness 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPrelude.A3" class="idref" href="#fixPrelude.A3"><span class="id" title="variable">A3</span></a> : <span class="id" title="keyword">forall</span> <a id="x0:108" class="idref" href="#x0:108"><span class="id" title="binder">x0</span></a>, <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.initCond"><span class="id" title="variable">initCond</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:108"><span class="id" title="variable">x0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="notation">|</span><a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:108"><span class="id" title="variable">x0</span></a><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="abbreviation">liftPrelude</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.t'"><span class="id" title="variable">t'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.initialString"><span class="id" title="variable">initialString</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:108"><span class="id" title="variable">x0</span></a>)).<br/>

<br/>
</div>

<div class="doc">
soundness 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPrelude.A4" class="idref" href="#fixPrelude.A4"><span class="id" title="variable">A4</span></a> : <span class="id" title="keyword">forall</span> <a id="x0:110" class="idref" href="#x0:110"><span class="id" title="binder">x0</span></a>, <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="abbreviation">liftPrelude</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.t'"><span class="id" title="variable">t'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.initialString"><span class="id" title="variable">initialString</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:110"><span class="id" title="variable">x0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="x0':111" class="idref" href="#x0':111"><span class="id" title="binder">x0'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:110"><span class="id" title="variable">x0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0':111"><span class="id" title="variable">x0'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.initCond"><span class="id" title="variable">initCond</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0':111"><span class="id" title="variable">x0'</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="fixPrelude.A5" class="idref" href="#fixPrelude.A5"><span class="id" title="variable">A5</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.initialString"><span class="id" title="variable">initialString</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.l"><span class="id" title="variable">l</span></a>).<br/>

<br/>
</div>

<div class="doc">
We use the results of the previous section. For that, we setup the initial condition and prove the assumptions the previous section has. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="preludeInitialPred" class="idref" href="#preludeInitialPred"><span class="id" title="definition">preludeInitialPred</span></a> <a id="s:114" class="idref" href="#s:114"><span class="id" title="binder">s</span></a> := <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#s:114"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.initialString"><span class="id" title="variable">initialString</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="validPreludeInitial" class="idref" href="#validPreludeInitial"><span class="id" title="abbreviation">validPreludeInitial</span></a> := (<a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#validPreludeInitial"><span class="id" title="definition">validPreludeInitial</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.l"><span class="id" title="variable">l</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#preludeInitialPred"><span class="id" title="definition">preludeInitialPred</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fact</span> <a id="A1p" class="idref" href="#A1p"><span class="id" title="lemma">A1p</span></a> <a id="init:115" class="idref" href="#init:115"><span class="id" title="binder">init</span></a> <a id="x0:116" class="idref" href="#x0:116"><span class="id" title="binder">x0</span></a> : <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#validPreludeInitial"><span class="id" title="abbreviation">validPreludeInitial</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#init:115"><span class="id" title="variable">init</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="abbreviation">liftPrelude</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.t'"><span class="id" title="variable">t'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#init:115"><span class="id" title="variable">init</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:116"><span class="id" title="variable">x0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#isOrigString"><span class="id" title="definition">isOrigString</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:116"><span class="id" title="variable">x0</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">H1</span> -&gt;]. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fact</span> <a id="A2p" class="idref" href="#A2p"><span class="id" title="lemma">A2p</span></a> <a id="init:117" class="idref" href="#init:117"><span class="id" title="binder">init</span></a> <a id="k:118" class="idref" href="#k:118"><span class="id" title="binder">k</span></a> <a id="x:119" class="idref" href="#x:119"><span class="id" title="binder">x</span></a>: <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#validPreludeInitial"><span class="id" title="abbreviation">validPreludeInitial</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#init:117"><span class="id" title="variable">init</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#k:118"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="abbreviation">liftPrelude</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#k:118"><span class="id" title="variable">k</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#init:117"><span class="id" title="variable">init</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x:119"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#isPreludeString"><span class="id" title="definition">isPreludeString</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x:119"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">H1</span> -&gt;]. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fact</span> <a id="A3p" class="idref" href="#A3p"><span class="id" title="lemma">A3p</span></a> <a id="x0:120" class="idref" href="#x0:120"><span class="id" title="binder">x0</span></a>: <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.initCond"><span class="id" title="variable">initCond</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:120"><span class="id" title="variable">x0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="notation">|</span><a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:120"><span class="id" title="variable">x0</span></a><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="init:121" class="idref" href="#init:121"><span class="id" title="binder">init</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#validPreludeInitial"><span class="id" title="abbreviation">validPreludeInitial</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#init:121"><span class="id" title="variable">init</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="abbreviation">liftPrelude</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.t'"><span class="id" title="variable">t'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#init:121"><span class="id" title="variable">init</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:120"><span class="id" title="variable">x0</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]. <span class="id" title="tactic">exists</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.initialString"><span class="id" title="variable">initialString</span></a>. <span class="id" title="tactic">split</span>; [ | <span class="id" title="var">easy</span>]. <span class="id" title="tactic">split</span>; [<span class="id" title="var">easy</span> | <span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fact</span> <a id="A4p" class="idref" href="#A4p"><span class="id" title="lemma">A4p</span></a> <a id="init:122" class="idref" href="#init:122"><span class="id" title="binder">init</span></a> <a id="x0:123" class="idref" href="#x0:123"><span class="id" title="binder">x0</span></a>: <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#validPreludeInitial"><span class="id" title="abbreviation">validPreludeInitial</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#init:122"><span class="id" title="variable">init</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower"><span class="id" title="inductive">relpower</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid"><span class="id" title="inductive">valid</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd"><span class="id" title="inductive">coversHeadInd</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude"><span class="id" title="abbreviation">liftPrelude</span></a>)) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.t'"><span class="id" title="variable">t'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#init:122"><span class="id" title="variable">init</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:123"><span class="id" title="variable">x0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="x0':124" class="idref" href="#x0':124"><span class="id" title="binder">x0'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0:123"><span class="id" title="variable">x0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0':124"><span class="id" title="variable">x0'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.initCond"><span class="id" title="variable">initCond</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#x0':124"><span class="id" title="variable">x0'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">H1</span> -&gt;]. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fact</span> <a id="initialString_validPreludeInitial" class="idref" href="#initialString_validPreludeInitial"><span class="id" title="lemma">initialString_validPreludeInitial</span></a> : <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#validPreludeInitial"><span class="id" title="abbreviation">validPreludeInitial</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.initialString"><span class="id" title="variable">initialString</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">easy</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The main result 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="prelude_ok" class="idref" href="#prelude_ok"><span class="id" title="lemma">prelude_ok</span></a> : <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#ExPTCC"><span class="id" title="definition">ExPTCC</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.p"><span class="id" title="variable">p</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.finalCondition"><span class="id" title="variable">finalCondition</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.t"><span class="id" title="variable">t</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.initCond"><span class="id" title="variable">initCond</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#PTCCLang"><span class="id" title="definition">PTCCLang</span></a> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#Build_PTCC"><span class="id" title="constructor">Build_PTCC</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.initialString"><span class="id" title="variable">initialString</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#combP"><span class="id" title="abbreviation">combP</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a>) <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.finalCondition"><span class="id" title="variable">finalCondition</span></a>) (<a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.t"><span class="id" title="variable">t</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">x0</span> &amp; <span class="id" title="var">H1</span> &amp; <span class="id" title="var">H2</span> &amp; (<span class="id" title="var">_</span> &amp; <span class="id" title="var">sf</span> &amp; <span class="id" title="var">F1</span> &amp; <span class="id" title="var">F2</span>)). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 : { <span class="id" title="tactic">unfold</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#PTCC_wellformed"><span class="id" title="definition">PTCC_wellformed</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>, <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.A5"><span class="id" title="variable">A5</span></a>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">sf</span>). <span class="id" title="var">cbn</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower_trans"><span class="id" title="lemma">relpower_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="Complexity.Libs.CookPrelim.MorePrelim.html#relpower_monotonous"><span class="id" title="lemma">relpower_monotonous</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#valid_monotonous"><span class="id" title="lemma">valid_monotonous</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#coversHeadInd_monotonous"><span class="id" title="lemma">coversHeadInd_monotonous</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftPrelude_subs_combP"><span class="id" title="lemma">liftPrelude_subs_combP</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.A3"><span class="id" title="variable">A3</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#relpower_valid_map_inl"><span class="id" title="lemma">relpower_valid_map_inl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#lift_final"><span class="id" title="lemma">lift_final</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">sf</span> &amp; <span class="id" title="var">F1</span> &amp; <span class="id" title="var">F2</span>). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#ExPTCC"><span class="id" title="definition">ExPTCC</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#relpower_comb_split"><span class="id" title="lemma">relpower_comb_split</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.Sigma"><span class="id" title="variable">Sigma</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.p"><span class="id" title="variable">p</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.t"><span class="id" title="variable">t</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.initCond"><span class="id" title="variable">initCond</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.l"><span class="id" title="variable">l</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.A0"><span class="id" title="variable">A0</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.Sigma'"><span class="id" title="variable">Sigma'</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.p'"><span class="id" title="variable">p'</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#preludeInitialPred"><span class="id" title="definition">preludeInitialPred</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#A1p"><span class="id" title="lemma">A1p</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#A2p"><span class="id" title="lemma">A2p</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.initialString"><span class="id" title="variable">initialString</span></a> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#initialString_validPreludeInitial"><span class="id" title="lemma">initialString_validPreludeInitial</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">F1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x0</span> &amp; <span class="id" title="var">H1</span> &amp; <span class="id" title="var">H2</span> &amp; <span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.A1"><span class="id" title="variable">A1</span></a> <span class="id" title="var">H1</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span> &amp; -&gt;). <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">split</span>; [ | <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#relpower_valid_length_inv"><span class="id" title="lemma">relpower_valid_length_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#relpower_valid_length_inv"><span class="id" title="lemma">relpower_valid_length_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.A5"><span class="id" title="variable">A5</span></a>, <span class="id" title="var">H1</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude.A4"><span class="id" title="variable">A4</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> (? &amp; <span class="id" title="var">H1</span> &amp; <span class="id" title="var">H4</span>). <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_injective</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; [<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H4</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">injective</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#PTCCLang"><span class="id" title="definition">PTCCLang</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: { <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#PTCC_wellformed"><span class="id" title="definition">PTCC_wellformed</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#relpower_valid_length_inv"><span class="id" title="lemma">relpower_valid_length_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sf'</span> &amp; -&gt;). <span class="id" title="tactic">exists</span> <span class="id" title="var">sf'</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">clear</span> <span class="id" title="var">F2</span> <span class="id" title="var">A2</span> <span class="id" title="var">A3</span> <span class="id" title="var">A4</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#liftOrig_relpower_p"><span class="id" title="lemma">liftOrig_relpower_p</span></a>, <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Subproblems.TCC.html#relpower_valid_length_inv"><span class="id" title="lemma">relpower_valid_length_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.12.1/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#lift_final"><span class="id" title="lemma">lift_final</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Complexity.NP.SAT.CookLevin.Reductions.PTCC_Preludes.html#fixPrelude"><span class="id" title="section">fixPrelude</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
